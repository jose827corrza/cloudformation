AWSTemplateFormatVersion: 2010-09-09

Parameters:
  AppName:
    Type: String

Resources:

  AppArtifactsBucket:
    Type: AWS::S3::Bucket
    Properties:
      # BucketName: baby-pipeline-artifacts-randomname-v2-1236789
      BucketName: !Join ['-', [ !Ref AppName, 'artifacts', !Sub '${AWS::Region}']]
      Tags: 
        - Key: 'organization'
          Value: 'joseDev'
        - Key: 'cfn'
          Value: 'pipeline'

Outputs:
  AppArtifactsBucket:
    Value: !Ref AppArtifactsBucket
    Export:
      Name: AppArtifactsBucket        
  AppArtifactsBucketArn:
    Value: !GetAtt AppArtifactsBucket.Arn
    Export:
      Name: AppArtifactsBucketArn       
